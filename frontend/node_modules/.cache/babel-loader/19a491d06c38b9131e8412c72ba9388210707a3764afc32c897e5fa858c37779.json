{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kroul\\\\Downloads\\\\shop-master\\\\shop-master\\\\frontend\\\\src\\\\components\\\\Registration.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Registration({\n  onRegister\n}) {\n  _s();\n  const api = 'http://localhost:9001/register';\n  const [email, setEmail] = useState('');\n  const [login, setLogin] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [passwordsMatch, setPasswordsMatch] = useState(true);\n  const [registrationMessage, setRegistrationMessage] = useState('');\n  const handleEmailChange = event => {\n    setEmail(event.target.value);\n  };\n  const handleLoginChange = event => {\n    setLogin(event.target.value);\n  };\n  const handlePasswordChange = event => {\n    setPassword(event.target.value);\n  };\n  const handleConfirmPasswordChange = event => {\n    setConfirmPassword(event.target.value);\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (password !== confirmPassword || password.length < 6) {\n      setPasswordsMatch(false);\n      return;\n    }\n    const data = {\n      login: login,\n      password: password,\n      email: email\n    };\n    try {\n      const response = await fetch(api, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      });\n      if (!response.ok) {\n        throw new Error('Ошибка при отправке запроса регистрации');\n      }\n      const result = await response.json();\n      console.log(result);\n\n      // Устанавливаем сообщение о успешной регистрации\n      setRegistrationMessage('Пользователь успешно зарегистрирован');\n    } catch (error) {\n      console.error('Ошибка при отправке запроса регистрации:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"registration-form\",\n      children: [registrationMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"success-message\",\n        children: registrationMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), !registrationMessage && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"\\u041F\\u043E\\u0447\\u0442\\u0430\",\n          value: email,\n          onChange: handleEmailChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n          value: login,\n          onChange: handleLoginChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n          value: password,\n          onChange: handlePasswordChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n          value: confirmPassword,\n          onChange: handleConfirmPasswordChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), !passwordsMatch && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u0438 \\u043D\\u0435 \\u0441\\u043E\\u0432\\u043F\\u0430\\u0434\\u0430\\u044E\\u0442 \\u0438\\u043B\\u0438 \\u043A\\u043E\\u0440\\u043E\\u0447\\u0435 6 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Registration, \"MmHjkT3SafJF58DOQL9I4jq0qUo=\");\n_c = Registration;\nexport default Registration;\nvar _c;\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Registration","onRegister","_s","api","email","setEmail","login","setLogin","password","setPassword","confirmPassword","setConfirmPassword","passwordsMatch","setPasswordsMatch","registrationMessage","setRegistrationMessage","handleEmailChange","event","target","value","handleLoginChange","handlePasswordChange","handleConfirmPasswordChange","handleSubmit","preventDefault","length","data","response","fetch","method","headers","body","JSON","stringify","ok","Error","result","json","console","log","error","children","fileName","_jsxFileName","lineNumber","columnNumber","className","type","placeholder","onChange","style","color","onClick","_c","$RefreshReg$"],"sources":["C:/Users/kroul/Downloads/shop-master/shop-master/frontend/src/components/Registration.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction Registration({ onRegister }) {\n  const api = 'http://localhost:9001/register';\n\n  const [email, setEmail] = useState('');\n  const [login, setLogin] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [passwordsMatch, setPasswordsMatch] = useState(true);\n  const [registrationMessage, setRegistrationMessage] = useState('');\n\n  const handleEmailChange = (event) => {\n    setEmail(event.target.value);\n  };\n\n  const handleLoginChange = (event) => {\n    setLogin(event.target.value);\n  };\n\n  const handlePasswordChange = (event) => {\n    setPassword(event.target.value);\n  };\n\n  const handleConfirmPasswordChange = (event) => {\n    setConfirmPassword(event.target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    \n    if (password !== confirmPassword || password.length < 6) {\n      setPasswordsMatch(false);\n      return;\n    }\n\n    const data = {\n      login: login,\n      password: password,\n      email: email\n    };\n  \n    try {\n      const response = await fetch(api, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      });\n  \n      if (!response.ok) {\n        throw new Error('Ошибка при отправке запроса регистрации');\n      }\n  \n      const result = await response.json();\n      console.log(result);\n\n      // Устанавливаем сообщение о успешной регистрации\n      setRegistrationMessage('Пользователь успешно зарегистрирован');\n    } catch (error) {\n      console.error('Ошибка при отправке запроса регистрации:', error);\n    }\n  };\n  \n  return (\n    <>\n      <h1>Регистрация</h1>\n      <div className=\"registration-form\">\n      {registrationMessage && (\n        <p className=\"success-message\">{registrationMessage}</p>\n      )}\n      {!registrationMessage && (\n        <>\n          <input\n             type='email'\n             placeholder='Почта'\n             value={email}\n             onChange={handleEmailChange}\n          />\n          <input\n            type='text'\n            placeholder='Логин'\n            value={login}\n            onChange={handleLoginChange}\n          />\n          <input\n            type='password'\n            placeholder='Пароль'\n            value={password}\n            onChange={handlePasswordChange}\n          />\n          <input\n            type='password'\n            placeholder='Повторите пароль'\n            value={confirmPassword}\n            onChange={handleConfirmPasswordChange}\n          />\n          {!passwordsMatch && (\n            <p style={{ color: 'red' }}>Пароли не совпадают или короче 6 символов</p>\n          )}\n          <button onClick={handleSubmit}>Сохранить</button>\n        </>\n      )}\n      </div>\n    </>\n  );\n\n}\n\nexport default Registration;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}